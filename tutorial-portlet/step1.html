<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.3">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Step 1 - Starting Up my project</title>
<link rel="stylesheet" href="./rocket-panda.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.1.0/css/font-awesome.min.css">
<style>
.CodeRay {
  background-color: hsl(0,0%,95%);
  border: 1px solid silver;
  color: black;
}
.CodeRay pre {
  margin: 0px;
}

span.CodeRay { white-space: pre; border: 0px; padding: 2px; }

table.CodeRay { border-collapse: collapse; width: 100%; padding: 2px; }
table.CodeRay td { padding: 2px 4px; vertical-align: top; }

.CodeRay .line-numbers {
  background-color: hsl(180,65%,90%);
  color: gray;
  text-align: right;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}
.CodeRay .line-numbers a {
  background-color: hsl(180,65%,90%) !important;
  color: gray !important;
  text-decoration: none !important;
}
.CodeRay .line-numbers a:target { color: blue !important; }
.CodeRay .line-numbers .highlighted { color: red !important; }
.CodeRay .line-numbers .highlighted a { color: red !important; }
.CodeRay span.line-numbers { padding: 0px 4px; }
.CodeRay .line { display: block; float: left; width: 100%; }
.CodeRay .code { width: 100%; }

.CodeRay .debug { color: white !important; background: blue !important; }

.CodeRay .annotation { color:#007 }
.CodeRay .attribute-name { color:#b48 }
.CodeRay .attribute-value { color:#700 }
.CodeRay .binary { color:#509 }
.CodeRay .char .content { color:#D20 }
.CodeRay .char .delimiter { color:#710 }
.CodeRay .char { color:#D20 }
.CodeRay .class { color:#B06; font-weight:bold }
.CodeRay .class-variable { color:#369 }
.CodeRay .color { color:#0A0 }
.CodeRay .comment { color:#777 }
.CodeRay .comment .char { color:#444 }
.CodeRay .comment .delimiter { color:#444 }
.CodeRay .complex { color:#A08 }
.CodeRay .constant { color:#036; font-weight:bold }
.CodeRay .decorator { color:#B0B }
.CodeRay .definition { color:#099; font-weight:bold }
.CodeRay .delimiter { color:black }
.CodeRay .directive { color:#088; font-weight:bold }
.CodeRay .doc { color:#970 }
.CodeRay .doc-string { color:#D42; font-weight:bold }
.CodeRay .doctype { color:#34b }
.CodeRay .entity { color:#800; font-weight:bold }
.CodeRay .error { color:#F00; background-color:#FAA }
.CodeRay .escape  { color:#666 }
.CodeRay .exception { color:#C00; font-weight:bold }
.CodeRay .float { color:#60E }
.CodeRay .function { color:#06B; font-weight:bold }
.CodeRay .global-variable { color:#d70 }
.CodeRay .hex { color:#02b }
.CodeRay .imaginary { color:#f00 }
.CodeRay .include { color:#B44; font-weight:bold }
.CodeRay .inline { background-color: hsla(0,0%,0%,0.07); color: black }
.CodeRay .inline-delimiter { font-weight: bold; color: #666 }
.CodeRay .instance-variable { color:#33B }
.CodeRay .integer  { color:#00D }
.CodeRay .key .char { color: #60f }
.CodeRay .key .delimiter { color: #404 }
.CodeRay .key { color: #606 }
.CodeRay .keyword { color:#080; font-weight:bold }
.CodeRay .label { color:#970; font-weight:bold }
.CodeRay .local-variable { color:#963 }
.CodeRay .namespace { color:#707; font-weight:bold }
.CodeRay .octal { color:#40E }
.CodeRay .operator { }
.CodeRay .predefined { color:#369; font-weight:bold }
.CodeRay .predefined-constant { color:#069 }
.CodeRay .predefined-type { color:#0a5; font-weight:bold }
.CodeRay .preprocessor { color:#579 }
.CodeRay .pseudo-class { color:#00C; font-weight:bold }
.CodeRay .regexp .content { color:#808 }
.CodeRay .regexp .delimiter { color:#404 }
.CodeRay .regexp .modifier { color:#C2C }
.CodeRay .regexp { background-color:hsla(300,100%,50%,0.06); }
.CodeRay .reserved { color:#080; font-weight:bold }
.CodeRay .shell .content { color:#2B2 }
.CodeRay .shell .delimiter { color:#161 }
.CodeRay .shell { background-color:hsla(120,100%,50%,0.06); }
.CodeRay .string .char { color: #b0b }
.CodeRay .string .content { color: #D20 }
.CodeRay .string .delimiter { color: #710 }
.CodeRay .string .modifier { color: #E40 }
.CodeRay .string { background-color:hsla(0,100%,50%,0.05); }
.CodeRay .symbol .content { color:#A60 }
.CodeRay .symbol .delimiter { color:#630 }
.CodeRay .symbol { color:#A60 }
.CodeRay .tag { color:#070 }
.CodeRay .type { color:#339; font-weight:bold }
.CodeRay .value { color: #088; }
.CodeRay .variable  { color:#037 }

.CodeRay .insert { background: hsla(120,100%,50%,0.12) }
.CodeRay .delete { background: hsla(0,100%,50%,0.12) }
.CodeRay .change { color: #bbf; background: #007; }
.CodeRay .head { color: #f8f; background: #505 }
.CodeRay .head .filename { color: white; }

.CodeRay .delete .eyecatcher { background-color: hsla(0,100%,50%,0.2); border: 1px solid hsla(0,100%,45%,0.5); margin: -1px; border-bottom: none; border-top-left-radius: 5px; border-top-right-radius: 5px; }
.CodeRay .insert .eyecatcher { background-color: hsla(120,100%,50%,0.2); border: 1px solid hsla(120,100%,25%,0.5); margin: -1px; border-top: none; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; }

.CodeRay .insert .insert { color: #0c0; background:transparent; font-weight:bold }
.CodeRay .delete .delete { color: #c00; background:transparent; font-weight:bold }
.CodeRay .change .change { color: #88f }
.CodeRay .head .head { color: #f4f }

</style>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-1292368-37', 'juzuweb.org');
    ga('send', 'pageview');

</script>
</head>
<body class="book toc2">
<div id="header">
<h1>Step 1 - Starting Up my project</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ol type="none" class="sectlevel0">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_the_project">The project</a></li>
<li><a href="#_what_we_need">What we need</a></li>
<li><a href="#_create_my_project">Create my Project</a></li>
<li>
<ol type="none" class="sectlevel1">
<li><a href="#_generate_juzu_project_using_maven_archetype">Generate Juzu project using maven archetype</a></li>
<li><a href="#_open_your_juzu_project_in_ide">Open your juzu project in IDE</a></li>
<li><a href="#_intellij">IntelliJ</a></li>
<li><a href="#_eclipse">Eclipse</a></li>
</ol>
</li>
<li><a href="#_explore_my_project">Explore my project</a></li>
<li><a href="#_run_my_application">Run my application</a></li>
<li>
<ol type="none" class="sectlevel1">
<li><a href="#_deploy_it_in_exo_platform">Deploy it in eXo Platform</a></li>
</ol>
</li>
</ol>
</div>
</div>
<div id="content">
<h1 id="_introduction" class="sect0"><a class="anchor" href="#_introduction"></a>Introduction</h1>
<div class="paragraph">
<p>In this tutorial we will learn <strong>Juzu</strong> by coding a real social Portlet named JuZcret. We will cover everything you need for <strong>create real portlet application</strong> and learn you the <strong>best developement practice</strong> for <strong>Juzu</strong>.<br>
Guys, be patient ! We decide to split this tutorial into <strong>7 steps</strong> for a simple reason: we will introduce smoothly more and more advanced and interesting features to gradually build our application.<br>
Yes, for sure we will start from an ugly Portlet with hard coded data&#8230; But, I promise ! At the end we will finish with a sexy fully integrated Portlet.<br>
And you, as a true Juzu developer, you will have enough knowledge to develop <strong>funny Juzu applications</strong> and evangelize Juzu around you.</p>
</div>

<h1 id="_the_project" class="sect0"><a class="anchor" href="#_the_project"></a>The project</h1>
<div class="paragraph">
<p>We will develop a new application named <strong>JuZcret</strong>.<br>
JuZcret is a funny social application allowing to share secrets.</p>
</div>
<div class="paragraph">
<p><strong>The rules of JuzCret:</strong></p>
</div>
<div class="ulist">

<ul>
<li>
<p>1st Rule: Anybody can access to JuZcret</p>
</li>
<li>
<p>2nd Rule: Anybody can add secret</p>
</li>
<li>
<p>3rd Rule: Anybody can read, comment, and like secrets</p>
</li>
<li>
<p>4th Rule: Secret is anonymous</p>
</li>
</ul>
</div>

<h1 id="_what_we_need" class="sect0"><a class="anchor" href="#_what_we_need"></a>What we need</h1>
<div class="paragraph">
<p>Juzu is a web framework written in <strong>Java</strong>, so first of all be sure you have a JDK install on your machine (later than 7).</p>
</div>
<div class="paragraph">
<p>We will manage dependencies and project compilation with <strong>Maven</strong>.</p>
</div>
<div class="paragraph">
<p>During coming steps, we will need to use the public maven repository of eXo for compilation. It&#8217;s why you need to declare it in your maven settings.xml:</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="xml language-xml">    <span class="tag">&lt;/profiles&gt;</span>
        <span class="tag">&lt;profile&gt;</span>
            <span class="tag">&lt;id&gt;</span>exo-public<span class="tag">&lt;/id&gt;</span>
            <span class="tag">&lt;repositories&gt;</span>
                <span class="tag">&lt;repository&gt;</span>
                 <span class="tag">&lt;id&gt;</span>eXo-pub-repo<span class="tag">&lt;/id&gt;</span>
                 <span class="tag">&lt;name&gt;</span>eXoPlatform public repo<span class="tag">&lt;/name&gt;</span>
                 <span class="tag">&lt;url&gt;</span>http://repository.exoplatform.org/public<span class="tag">&lt;/url&gt;</span>
                <span class="tag">&lt;/repository&gt;</span>
            <span class="tag">&lt;/repositories&gt;</span>
        <span class="tag">&lt;/profile&gt;</span>

    ...

    <span class="tag">&lt;/profiles&gt;</span>

    <span class="tag">&lt;activeProfiles&gt;</span>
        <span class="tag">&lt;activeProfile&gt;</span>exo-public<span class="tag">&lt;/activeProfile&gt;</span>

        ...

    <span class="tag">&lt;/activeProfiles&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">

For more information about adding the eXo Platform Maven repository, <a href="http://docs.exoplatform.com/public/index.jsp?topic=%2FPLF41%2FPLFDevGuide.GettingStarted.Maven.html&amp;cp=2_3_0_3_0" target="_blank">take a look here</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We will assume that you have a basic knowledge of <strong>Java and Web development</strong> (HTML, CSS, JavaScript).</p>
</div>
<div class="paragraph">
<p>I suggest you to use a Java IDE such as Eclipse or IntelliJ. But if you prefer, you can use a simple text editor like Sublime text, Emacs or even Vim (really..?).<br>
The compilation and deployment will be manage in console with Maven.</p>
</div>
<div class="paragraph">
<p>Don&#8217;t forget that we are developing a Portlet. So we need a Portal to deploy it. Let me think&#8230; we need a portal, we develop a sexy social application..? <strong>eXo platform</strong> will be the best !</p>
</div>

<h1 id="_create_my_project" class="sect0"><a class="anchor" href="#_create_my_project"></a>Create my Project</h1>
<div class="sect1">
<h2 id="_generate_juzu_project_using_maven_archetype"><a class="anchor" href="#_generate_juzu_project_using_maven_archetype"></a>Generate Juzu project using maven archetype</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To start our project, we will use the maven Juzu Archetype which will automatically generate all the structure of your Juzu project by populating it with all files and directory necessary to run a simple <strong>Juzu HelloWorld application</strong>.</p>
</div>
<div class="paragraph">
<p>Open a new command line and place you on your working directory. Mine is:</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ cd ~/java/eXoProjects/juzu-tutorial/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then tape</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">mvn archetype:generate \
    -DarchetypeGroupId=org.juzu \
    -DarchetypeArtifactId=juzu-archetype \
    -DarchetypeVersion=1.0.0 \
    -DjuzuServer=gatein \
    -DgroupId=org.juzu.tutorial \
    -DartifactId=tutorial-juzcret \
    -Dversion=1.0.0-SNAPSHOT \
    -DinteractiveMode=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the command above, you are creating a Juzu Portlet application project with the <strong>Guice injection container</strong>.<br>
It’s possible to generate the application with different containers by specifying the option <code>-DjuzuInject</code>. The valid values are <code>guice</code> (by default), <code>spring</code> or cdi.</p>
</div>
<div class="paragraph">
<p>When generation is finished, a <strong>build success message</strong> is displayed in your command line:</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">[INFO] Using following parameters for creating project from Archetype: juzu-archetype:1.0.0
[INFO] ----------------------------------------------------------------------------
[INFO] Parameter: groupId, Value: org.juzu.tutorial
[INFO] Parameter: artifactId, Value: tutorial-juzcret
[INFO] Parameter: version, Value: 1.0.0-SNAPSHOT
[INFO] Parameter: package, Value: org.juzu.tutorial
[INFO] Parameter: packageInPathFormat, Value: org/juzu/tutorial
[INFO] Parameter: package, Value: org.juzu.tutorial
[INFO] Parameter: version, Value: 1.0.0-SNAPSHOT
[INFO] Parameter: juzuInject, Value: guice
[INFO] Parameter: artifactId, Value: tutorial-juzcret
[INFO] project created from Archetype in dir: /Users/TClement/java/eXoProjects/tutorial-juzcret/
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 44.882 s
[INFO] Finished at: 2014-08-29T14:13:46+07:00
[INFO] Final Memory: 13M/129M
[INFO] ------------------------------------------------------------------------</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we have a new tutorial-juzcret folder containing a simple customized <strong>Juzu HelloWorld application</strong>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s open it in our IDE</p>
</div>

</div>
</div>
<div class="sect1">
<h2 id="_open_your_juzu_project_in_ide"><a class="anchor" href="#_open_your_juzu_project_in_ide"></a>Open your juzu project in IDE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Open your juzu project in your favorite IDE</p>
</div>

</div>
</div>
<div class="sect1">
<h2 id="_intellij"><a class="anchor" href="#_intellij"></a>IntelliJ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="http://community.exoplatform.com/portal/g/:spaces:juzu/juzu/wiki/IntelliJ" target="_blank">How to configure IntelliJ to enjoy Juzu development</a></p>
</div>

</div>
</div>
<div class="sect1">
<h2 id="_eclipse"><a class="anchor" href="#_eclipse"></a>Eclipse</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="http://community.exoplatform.com/portal/g/:spaces:juzu/juzu/wiki/Eclipse" target="_blank">How to configure Eclipse to enjoy Juzu development</a></p>
</div>

</div>
</div>

<h1 id="_explore_my_project" class="sect0"><a class="anchor" href="#_explore_my_project"></a>Explore my project</h1>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/step1/project-architecture.png" alt="Default Juzu Project Architecture" width="800">
</div>

</div>
<div class="paragraph">
<p>Our project looks like a default Maven web project plus specific Juzu files and directory. The most important to understand is:</p>
</div>
<div class="paragraph">
<p><strong>pom.xml</strong> contains all dependencies needed to run and test our juzu application.</p>
</div>
<div class="paragraph">
<p><strong>WEB-INF/</strong> contains deployement descriptor for our application. If you have already develop java web application and portlet, nothing new for you here.</p>
</div>
<div class="paragraph">
<p><strong>templates/</strong> contains all templates used in your application. A template is made of static and dynamic part allowing to form dynamic pages for our application.</p>
</div>
<div class="paragraph">
<p><strong>Controller.java</strong> is our Juzu controller. it&#8217;s where we will render <strong>view</strong> using template, define <strong>resource</strong> and more.</p>
</div>
<div class="paragraph">
<p><strong>package-info.java</strong> is the configuration file of our application. It&#8217;s where we will <strong>declare the base package</strong> of our application, <strong>activate plugin</strong>, add JavaScript or CSS resources and more.</p>
</div>
<div class="paragraph">
<p>It&#8217;s quite simple, doesn&#8217;t it..?  If you don&#8217;t understand exactly the purpose of each file above, don&#8217;t worry. Here was just an introduction, we will come back deeper on each file later. Don&#8217;t stay here, go ahead !</p>
</div>

<h1 id="_run_my_application" class="sect0"><a class="anchor" href="#_run_my_application"></a>Run my application</h1>
<div class="paragraph">
<p>Before running let us personalize a little bit our <strong>HelloWorld Juzu application</strong> to transform it in our <strong>simple JuZcret application</strong>.<br>
First open the <code>portlet.xml</code> file generated in <em>Juzcret/src/main/webapp/WEB-INF</em> folder. If you are not familiar with portlet development, you just need to know that the portlet.xml is the standard JSR-286 portlet configuration file used by the portlet container to deploy your Portlet. Let&#8217;s modify our portlet name, display name, and title:</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="xml language-xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;portlet-app</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd</span><span class="delimiter">&quot;</span></span>
             <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.0</span><span class="delimiter">&quot;</span></span>
             <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
             <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd</span>
   <span class="content">http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;portlet&gt;</span>
     <span class="tag">&lt;portlet-name&gt;</span>JuzcretApplication<span class="tag">&lt;/portlet-name&gt;</span>
     <span class="tag">&lt;display-name</span> <span class="attribute-name">xml:lang</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">EN</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>JuZcret Application<span class="tag">&lt;/display-name&gt;</span>
     <span class="tag">&lt;portlet-class&gt;</span>juzu.bridge.portlet.JuzuPortlet<span class="tag">&lt;/portlet-class&gt;</span>
     <span class="tag">&lt;init-param&gt;</span>
       <span class="tag">&lt;name&gt;</span>juzu.app_name<span class="tag">&lt;/name&gt;</span>
       <span class="tag">&lt;value&gt;</span>org.juzu.tutorial<span class="tag">&lt;/value&gt;</span>
     <span class="tag">&lt;/init-param&gt;</span>
     <span class="tag">&lt;supports&gt;</span>
       <span class="tag">&lt;mime-type&gt;</span>text/html<span class="tag">&lt;/mime-type&gt;</span>
     <span class="tag">&lt;/supports&gt;</span>
     <span class="tag">&lt;portlet-info&gt;</span>
       <span class="tag">&lt;title&gt;</span>JuZcret Application<span class="tag">&lt;/title&gt;</span>
     <span class="tag">&lt;/portlet-info&gt;</span>
   <span class="tag">&lt;/portlet&gt;</span>
<span class="tag">&lt;/portlet-app&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Secondly make some changes for the presentation of the home page of JuZcret. Open <code>index.gtmpl</code> in <code>templates</code> folder and modify:</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="html language-html">Hello World</code></pre>
</div>
</div>
<div class="paragraph">
<p>By</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="html language-html"><span class="tag">&lt;h1&gt;</span>JuZcret Application<span class="tag">&lt;/h1&gt;</span>
<span class="tag">&lt;p&gt;</span>
    1st Rule: Anybody can access to JuZcret<span class="tag">&lt;br</span><span class="tag">/&gt;</span>
    2nd Rule: Anybody can add secret<span class="tag">&lt;br</span><span class="tag">/&gt;</span>
    3rd Rule: Anybody can read, comment, and like secrets<span class="tag">&lt;br</span><span class="tag">/&gt;</span>
    4nd Rule: Secret is anonymous<span class="tag">&lt;br</span><span class="tag">/&gt;</span>
<span class="tag">&lt;/p&gt;</span></code></pre>
</div>
</div>
<div class="sect1">
<h2 id="_deploy_it_in_exo_platform"><a class="anchor" href="#_deploy_it_in_exo_platform"></a>Deploy it in eXo Platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Don&#8217;t forget that we are developing a <strong>Portlet application</strong>. It means that we need a <strong>Portal</strong> to deploy it.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start by downloading <a href="http://sourceforge.net/projects/exo/files/Platform4.1/eXo-Platform-community-4.1.0-RC1.zip/download" target="_blank">eXo Platform Community Edition</a></p>
</div>
<div class="paragraph">
<p>In command line, go to your download directory</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ cd ~/Downloads</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unzip the download file</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ unzip eXo-Platform-community-4.1.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>Copy/Paste it in the directory of your of your choice (Mine is /java/eXoProjects/juzu-tutorial/platform-community-4.1/)</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ cp -R platform-community-4.1/ ~/java/eXoProjects/juzu-tutorial/platform-community-4.1/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we have to add our Portlet in PLF.</p>
</div>
<div class="paragraph">
<p>Go back to your working directory</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ cd ~/java/eXoProjects/juzu-tutorial/tutorial-juzcret/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Compile the application</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ mvn clean install</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>BUILD FAILURE ???</strong> What..??? I don&#8217;t even finish the step one of this tutorial&#8230;!<br>
Relax guys. As usual try to understand what&#8217;s wrong&#8230;<br>
In the maven log in the command line you can read</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">Results :

Failed tests:   testFoo(org.juzu.tutorial.ApplicationTestCase): expected:&lt;[Hello World]&gt; but was:&lt;[JuZcret Application(..)

Tests run: 1, Failures: 1, Errors: 0, Skipped: 0</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>A test failed ?</strong><br>
Yes the Juzu archetype create a default unit test case with the HelloWorld to test that the html of our application equal "Hello World".<br>
However it&#8217;s not our case. We modified the index template, so the test failed.<br>
You can take a look at this unit test in <code>test/java/org/juzu/tutorial/ApplicationTestCase.java</code></p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="java language-java"><span class="annotation">@Test</span>
  <span class="annotation">@RunAsClient</span>
  <span class="directive">public</span> <span class="type">void</span> testFoo() {
    driver.get(deploymentURL.toString());
    WebElement body = driver.findElement(By.tagName(<span class="string"><span class="delimiter">&quot;</span><span class="content">body</span><span class="delimiter">&quot;</span></span>));
    assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello World</span><span class="delimiter">&quot;</span></span>, body.getText());
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The aim of this step is not to learn you how to develop Unit test with Juzu. This will be cover later during step-7. For now, just remove <code>ApplicationTestCase.java</code>.</p>
</div>
<div class="paragraph">
<p>So compile again:</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ mvn clean install</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here you should get a <strong>Build Success</strong>. Great now it&#8217;s time to deploy our Portlet in eXo Platform.</p>
</div>
<div class="paragraph">
<p>Copy the created <strong>war</strong> to eXo Platform webapps directory</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ cp ./target/tutorial-juzcret.war ~/java/eXoProjects/juzu-tutorial/platform-community-4.1.0-RC1/webapps/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Go to eXo Platform directory</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ cd ~/java/eXoProjects/juzu-tutorial/platform-community-4.1.0-RC1/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Start eXo in Dev mode</p>
</div>
<div class="listingblock">

<div class="content monospaced">
<pre class="CodeRay"><code class="text language-text">$ ./start_eXo.sh --dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open your web browser and go to <a href="http://localhost:8080/portal" target="_blank">http://localhost:8080/portal</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">

Username: root | Password: gtn
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>What we want to do it&#8217;s to add our <strong>new Portlet</strong> on a dedicated <strong>JuZcret Page</strong>. Here everybody will have the availability to see and share secrets !<br>
For doing this we need to proceed in two steps:</p>
</div>
<div class="olist arabic">

<ol class="arabic">
<li>
<p>Add our new Portlet in a category</p>
</li>
<li>
<p>Add our new Portlet in the dedicated JuZcret Page</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To be able to add our new Portlet, firstly we need to add it in a category.<br>
Because we are developing a social application, we will add it in the <strong>Social Category</strong>.</p>
</div>
<div class="paragraph">
<p>Click on Administration&#8594;Applications and click on Portlet on the top right.<br>
If you scroll down you should see our Portlet <strong>Juzu Secret Application</strong> in the <strong>tutorial-juzcret</strong> section</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/step1/juzcret-in-portlet-list.png" alt="JuZcret in Portlet List" width="800">
</div>

</div>
<div class="paragraph">
<p>Click on it</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/step1/juzcret-portlet-detail.png" alt="JuZcret Portlet Detail" width="800">
</div>

</div>
<div class="paragraph">
<p>Click on "Click here to add into categories"<br>
Add it in Social Category</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/step1/juzcret-add-social-categorie.png" alt="JuZcret added in social categorie" width="800">
</div>

</div>
<div class="paragraph">
<p>Then Save</p>
</div>
<div class="paragraph">
<p>Secondly we want to add our new Portlet on the dedicated <strong>JuZcret Page</strong>.</p>
</div>
<div class="paragraph">
<p>Go back the <strong>Home Page</strong> of eXo and then click on Edit on the top navigation bar. Then click on Page &#8594; Add Page to open the Page Creation Wizard form.<br>
Select the up level on the left menu, set JuZcret as Node and Display Name and check visible:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/step1/JuZcret-new-page.png" alt="Add JuZcret in a new page" width="800">
</div>

</div>
<div class="paragraph">
<p>Click on Next button two times</p>
</div>
<div class="paragraph">
<p>In <em>Page Editor</em> on the top right, expand social and <strong>Drag &amp; Drop</strong> <em>Juzu Secret Application</em> on the left:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/step1/juzcret-drag-drop.png" alt="JuZcret drag and drop in new page" width="800">
</div>

</div>
<div class="paragraph">
<p>Then Click on the finish icon on the top right of Page Editor and look at the result</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/step1/juzcret-added.png" alt="JuZcret added in the new page" width="800">
</div>

</div>
<div class="paragraph">
<p>ah.. ok.. nice..<br>
Ah ah we get what I promised : <strong>a ugly static Portlet !</strong></p>
</div>
<div class="paragraph">
<p>It&#8217;s time to go to <a href="./step2.html">Step 2 - Viewing and posting Secret</a> and add some functionality to our Portlet&#8230;</p>
</div>
<script type="text/javascript">
//Get the left menu
var leftmenu = document.getElementsByClassName("sectlevel0")[0];

//Create back to menu link
var menuLink = document.createElement("a");
menuLink.href = "./index.html";
menuLink.appendChild(document.createTextNode("Menu"));
var menu = document.createElement("li");
menu.setAttribute("class", "menuStep");
menu.appendChild(menuLink);

//Create go to next step link
var nextStepLink = document.createElement("a");
nextStepLink.href = "./step2.html";
nextStepLink.appendChild(document.createTextNode("Go to next Step"));
var nextStep = document.createElement("li");
nextStep.setAttribute("class", "nextStep");
nextStep.appendChild(nextStepLink);

//Add them to Left Menu
leftmenu.insertBefore(menu, leftmenu.firstChild);
leftmenu.appendChild(nextStep);
</script>
</div>
</div>


</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-04-24 14:06:58 CEST
</div>
</div>
</body>
</html>